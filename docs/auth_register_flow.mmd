%% Auth Flow — Registration & Email Verification
flowchart TD
    A[사용자: 회원가입 폼 제출\nPOST /api/auth/register/] -->|유효성 검증| B{이메일 중복?\n비밀번호 정책 충족?}
    B -- 아니오(중복/불충족) --> Bx[400/422 오류 반환\n에러 메시지]
    B -- 예 --> C[User 생성: is_active=false]
    C --> D[이메일 인증 토큰 생성]
    D --> E[인증 링크 발송\nGET /api/auth/verify-email/?token=...]
    E --> F{사용자 링크 클릭}
    F -- 유효 토큰 --> G[is_active=true 로 업데이트]
    G --> H[200 OK\n'인증 완료' 메시지]
    F -- 토큰 만료/위조 --> Fx[400/401 오류\n'유효하지 않은 토큰']
